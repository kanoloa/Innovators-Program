name: MazdaInnovatorsProgram
on:
  push:
    branches: [ "main" ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:

    - name: Check out repository code
      uses: actions/checkout@v6

    - name: Check current directory and its contents
      run: |
        pwd
        ls -al

    - name: zip report file
      run: |
        cd tests
        zip ../report.zip report.xml
        cd ../
        ls -al

    - name: upload test result
      run: >
        curl -F 'configuration={
        "testConfigurationId":"1026147",
        "testCaseTrackerId":"114008",
        "testCaseId":"1026145",
        "releaseId":"",
        "testRunTrackerId":"114003",
        "buildIdentifier":"Build123",
        "defaultPackagePrefix":""}'
        -F 'file=@report.zip'
        https://alms.japaneast.cloudapp.azure.com/dev/rest/xunitresults/
        -u myne:myne
